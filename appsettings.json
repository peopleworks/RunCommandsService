{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "Scheduler": {
    "PollSeconds": 5,
    "MaxParallelism": 2,
    "DefaultTimeZone": "Eastern Standard Time"
  },
  "Monitoring": {
    "EnableHttpEndpoint": true,
    "AdminKey": "CHANGE-ME",
    "HttpPrefixes": [ "http://localhost:5058/" ],
    "Dashboard": {
      "Enabled": true,
      "HtmlPath": "dashboard.html",
      "Title": "Scheduled Command Executor",
      "AutoRefreshSeconds": 5,
      "ShowRawJsonToggle": true
    },
    "AlertOn": {
      "ConsecutiveFailures": 2,
      "SlowRunMs": 60000
    },
    "Notifiers": {
      "Email": {
        "Enabled": false,
        "SmtpHost": "smtp.example.com",
        "SmtpPort": 587,
        "UseSsl": true,
        "User": "user@example.com",
        "Password": "CHANGE_ME",
        "From": "alerts@example.com",
        "To": [ "ops@example.com" ],
        "SubjectTemplate": "[${AlertType}] ${CommandId} (${ConsecutiveFailures}x) â€” ${DurationMs}ms",
        "BodyTemplate": "Command: ${Command}\nStarted: ${StartUtc:o}\nEnded: ${EndUtc:o}\nExitCode: ${ExitCode}\nDuration: ${DurationMs}ms\nError: ${Error}\nMessage: ${CustomMessage}"
      },
      "Webhook": {
        "Enabled": false,
        "Url": "https://hooks.example.com/your-webhook",
        "AuthorizationHeader": "Bearer <token-if-needed>"
      }
    }
  },
  "ScheduledCommands": [
    {
      "Id": "Notepad",
      "Command": "Notepad.exe",
      "CronExpression": "40 23 * * 1-5",
      "TimeZone": "America/Santo_Domingo",
      "Enabled": true,
      "AllowParallelRuns": false,
      "ConcurrencyKey": "dashboard",
      "MaxRuntimeMinutes": 60,
      "AlertOnFail": true,
      "CaptureOutput": false,
      "QuietStartLog": true
    },
    {
      "Id": "SchedulerSelfTest",
      "Command": "cmd /c \"ver > NUL\"",
      "CronExpression": "*/2 * * * *",
      "TimeZone": "Eastern Standard Time",
      "Enabled": true,
      "AllowParallelRuns": false,
      "ConcurrencyKey": "selftest",
      "MaxRuntimeMinutes": 1,
      "AlertOnFail": true,
      "CaptureOutput": false,
      "QuietStartLog": true
    }
  ]
}
